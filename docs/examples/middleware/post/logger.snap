```rust hl_lines="8"
use pavex::post_process;
use pavex::response::Response;
use pavex_tracing::{
    fields::{http_response_status_code, HTTP_RESPONSE_STATUS_CODE},
    RootSpan,
};

#[post_process]
pub fn response_logger(response: Response, root_span: &RootSpan) -> Response {
    root_span.record(
        HTTP_RESPONSE_STATUS_CODE,
        http_response_status_code(&response),
    );
    response
}
```